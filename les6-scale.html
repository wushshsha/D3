<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>D3 比例尺使用学习</title>
    <script src= 'd3.js'></script>
</head>
<body>
    <textarea></textarea>
<script>
    var textarea = d3.select('textarea');
    textarea.style('width','100%').style('height','500px');
    var dataset = [1.2, 2.3, 0.9, 1.5, 3.3];
    var min = d3.min(dataset);
    var max = d3.max(dataset);

    var linear = d3.scaleLinear()
                .domain([min,max])
                .range([0,300]);
    console.log(linear(0.9));
    console.log(linear(2.3));
    console.log(linear(3.3));
    textarea.text(linear(0.99)+'\r\n'+ linear(2.3)+'\r\n'+linear(3.3));


    var index = [0,1,2,3,4];
    var color = ['red', 'blue','green','yellow','black'];
    var ordinal = d3.scaleOrdinal()
                    .domain(index)
                    .range(color)
    console.log(ordinal(0));
    console.log(ordinal(1));
    console.log(ordinal(4));
    var ordinalList = [ordinal(0),ordinal(1),ordinal(4)];
    textarea.text(textarea.text()+'\r\n'+ordinalList.join('\r\n'));

    var dataset = [2.5,2.1,1.7,1.3,0.9];
    var linear = d3.scaleLinear()
                   .domain([0,d3.max(dataset)])
                   .range([0,250]);
    var rectHeight = 25;
    var svg = d3.select('body').append('svg');
    svg.selectAll('rect')
       .data(dataset)
       .enter()
       .append('rect')
       .attr('x',20)
       .attr('y',function(d,i){
           return i * rectHeight
       })
       .attr('width',function(d){
           return linear(d);
       })
       .attr('height',rectHeight-2)
       .attr('fill','steelblue');


</script>

</body>
</html>